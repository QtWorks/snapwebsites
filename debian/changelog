snapwebsites (1.5.87.0~xenial) xenial; urgency=high

  * Fixed the default path to the snapwatchdog processes.
  * Applied a fix so the color of the snapmanager.cgi tab text doesn't go white.
  * Highlight disabled backend, but don't mark them as a warning because in
    most cases a disabled backend is not a warning.
  * Various clean ups.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Jul 2018 22:14:31 -0700

snapwebsites (1.5.86.0~xenial) xenial; urgency=high

  * Added a daily cron along snapmta so we attempt to dequeue emails once a
    day (becausewe may send emails only very rarely so it could otherwise
    get stuck there for a very long time.)
  * Marked the snapmta as being in conflict with postfix as they both provide
    a tool named /usr/sbin/sendmail.
  * Added ntpd as a process that needs to be running.
  * Fixed the path to the *-processes.xml files in the .install files.
  * Removed the dependency on snapwatchdog from snapserver (it was a test.)
  * Removed the message from the snapserver CMakeLists.txt.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Jul 2018 18:13:38 -0700

snapwebsites (1.5.85.0~xenial) xenial; urgency=high

  * Test build by changing the order of the add_subdirectory().
  * Added support for potential duplicate definition of processes in XML files.
  * Added mysqld as a process running along snaplistd and snaplog.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Jul 2018 17:49:23 -0700

snapwebsites (1.5.84.3~xenial) xenial; urgency=high

  * Updated the error message in an attempt to find the problem.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Jul 2018 17:20:06 -0700

snapwebsites (1.5.84.2~xenial) xenial; urgency=high

  * Try having snapwatchdog as a dependency of snapserver to see whether
    that resolves the XSD validation problem.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Jul 2018 17:06:03 -0700

snapwebsites (1.5.84.1~xenial) xenial; urgency=high

  * Force XSD path so snapwatchdog compiles on launchpad.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Jul 2018 16:48:45 -0700

snapwebsites (1.5.84.0~xenial) xenial; urgency=high

  * Made snapwatchdog capable of running its plugins and RUSAGE even without
    the Cassandra cluster (otherwise it would not be capable of cleanly
    reporting that Cassandra is down)
  * Added code to report errors found by the snapwatchdog plugins by sending
    an email to the site administrator_email user or email list.
  * Added a log rotate for the RUSAGE files since we use the PID for the name.
  * Added a cache folder for snapwatchdog CPU data.
  * Added support for a plugin introducer (i.e. the "watchdog_").
  * Made the firewall and cassandra plugins work in snapwatchdog.
  * Renamed all the snapwatchdog plugins so they start with "watchdog_".
  * Fixed the cassandra loop so it breaks as expected when we find the instance.
  * Moved the lib one directory down so the #include work as expected.
  * Added error handling to all snapwatchdog plugins.
  * Added a log rotation for the snapwatchdog-scripts-errors.log file.
  * Added resources to the snapwatchdog library to support an error to email
    XSTL 2.0 script.
  * Added support for marking processes as mandatory for the system.
  * Changed the list of processes from  the snapwatchdog.conf file to a list
    of XML files, just drop extra XML files and more processes get checked.
  * Replaced the watchdog_processes with watchdog_processes_path.
  * Added XML files to check for processes (snaplog, snapserver, snaplistd,
    and snapwatchdog for the expected defaults)
  * Installed those XML files with process definitions.
  * Added validation of the process XML files to the CMakeLists.txt.
  * Protected all the std::cout in snapbackup with a --verbose.
  * Force ownership of snapbackup.log to snapwebsites:snapwebsites.
  * Actually install the watch_snapbackup_old_cron_script file for developers.
  * Fixed watch_snapbackup_old_cron_script and watch_firewall_fail2ban_client
    to work with the new snapwatchdog.
  * In the confirmation of the drop command, it's not usable in a batch but
    now it won't just sit there.
  * Added a couple of exception and use those instead of std::...() ones.
  * Added the quoted_printable_encode_and_set_data() function to the email
    class so we don't have to duplicate that code over and over.
  * Added a mkdir_p() that take an std::string or char const *.
  * Added a mew configuration variable named `disk_ignore` to allow for regex
    to ignore partitions that are filled up.
  * Added a meminfo.cpp/h to the library to read the /proc/meminfo file.
  * Various clean ups.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 12 Jul 2018 05:05:04 -0700

snapwebsites (1.5.82.0~xenial) xenial; urgency=high

  * One more attempt in the dark to resolve the menu item issue in XSL.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 12 Jul 2018 05:05:04 -0700

snapwebsites (1.5.81.0~xenial) xenial; urgency=high

  * Fixed the uninstalled that would not run "apt-get autoremove --purge".
  * Added the "--purge" whenever an "autoremove" command is sent.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 12 Jul 2018 00:15:44 -0700

snapwebsites (1.5.80.0~xenial) xenial; urgency=high

  * Fixed the CSS, the version can't be fixed & flexed.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 11 Jul 2018 22:29:28 -0700

snapwebsites (1.5.79.0~xenial) xenial; urgency=high

  * Fixed the versions, it needs the ${...} around the names.
  * Fixed the CSS for the header with display: flex.
  * Replaced the "." with "node()" in the XSLT file.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 11 Jul 2018 19:56:13 -0700

snapwebsites (1.5.78.0~xenial) xenial; urgency=high

  * Fixed the version of snapbounce, it was empty because it moved to
    become SNAPWEBSITES_VERSION_... (also corrected others with the same
    problem)
  * Fixed the XSL and CSS so the version appears properly in snapmanagercgi.
  * Fixed the CSS for the fixed header, no padding allowed.
  * Removed my debug code generating a /tmp file from sendmail.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 11 Jul 2018 17:30:13 -0700

snapwebsites (1.5.77.2~xenial) xenial; urgency=high

  * Marked the debug write() result as not used.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 11 Jul 2018 01:49:36 -0700

snapwebsites (1.5.77.1~xenial) xenial; urgency=high

  * Bump version since the PPA did not kick start the previous attempt.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 11 Jul 2018 00:22:51 -0700

snapwebsites (1.5.77.0~xenial) xenial; urgency=high

  * Added a chown() against the /var/mail/root file to root:mail.
  * Added some debug to determine the sendmail parameters used.
  * Fixed snapmanager CGI menu, it was including the <item> tag.
  * Added the Snap! Website version to the snapmanager top bar.
  * Fixed the starting position of the data as the top bar went over.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 10 Jul 2018 23:50:14 -0700

snapwebsites (1.5.76.1~xenial) xenial; urgency=high

  * Bump version since the PPA did not kick start the previous attempt.

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  7 Jul 2018 03:24:44 -0700

snapwebsites (1.5.76.0~xenial) xenial; urgency=high

  * Fixed the sendmail too, it seems to work 100% as expected.
  * Added a pretend msmtp script to simulate that tool and debug our sendmail.
  * Fixed the syslog logger identifier, the program PID is not there.

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  7 Jul 2018 02:01:17 -0700

snapwebsites (1.5.75.2~xenial) xenial; urgency=high

  * Put the menu ID back so it gets attached as expected.

 -- Alexis Wilke <alexis@m2osw.com>  Fri,  6 Jul 2018 05:05:32 -0700

snapwebsites (1.5.75.1~xenial) xenial; urgency=high

  * Fixed the name from sendmail to snapmta in the rules.
  * Renamed the bundle the snapmta instead of sendmail.

 -- Alexis Wilke <alexis@m2osw.com>  Fri,  6 Jul 2018 01:05:48 -0700

snapwebsites (1.5.75.0~xenial) xenial; urgency=high

  * Change the name of the package to snapmta because there is a conflict
    with the snapsendmail backend package
  * Changed the snapmanager menu and globe to be fixed at the top.

 -- Alexis Wilke <alexis@m2osw.com>  Thu,  5 Jul 2018 22:30:31 -0700

snapwebsites (1.5.74.0~xenial) xenial; urgency=high

  * Also remove the very first line of the email (the From <...>).
  * Added a script in snapserver/scripts to check snapcommunicator connections.
  * Cleaned up the #include in the sendmail.cpp file.

 -- Alexis Wilke <alexis@m2osw.com>  Thu,  5 Jul 2018 20:00:40 -0700

snapwebsites (1.5.73.1~xenial) xenial; urgency=high

  * The file gets installed under debian/snapsendmail, not snapbounce.

 -- Alexis Wilke <alexis@m2osw.com>  Thu,  5 Jul 2018 04:44:57 -0700

snapwebsites (1.5.73.0~xenial) xenial; urgency=high

  * Check the return value of ftruncate() so it compiles in RELEASE.

 -- Alexis Wilke <alexis@m2osw.com>  Thu,  5 Jul 2018 03:55:35 -0700

snapwebsites (1.5.72.0~xenial) xenial; urgency=high

  * Changed the script to C++ so I can actually do a setuid(0).
  * The C++ code includes a way to use the /var/mail/root as a mail queue too.
  * Added a package since we have a binary to install: snapsendmail.
  * Added a rule for /usr/sbin/sendmail so we can do the setuid(0).
  * Fixed the exit value in snapbounce, it would always exit with 0.

 -- Alexis Wilke <alexis@m2osw.com>  Thu,  5 Jul 2018 02:32:32 -0700

snapwebsites (1.5.71.0~xenial) xenial; urgency=high

  * Fixed the sendmail script, the EOF needs two "<<" not just one.

 -- Alexis Wilke <alexis@m2osw.com>  Wed,  4 Jul 2018 14:24:02 -0700

snapwebsites (1.5.70.1~xenial) xenial; urgency=high

  * Removed an invalid parenthesis in the JavaScript.

 -- Alexis Wilke <alexis@m2osw.com>  Wed,  4 Jul 2018 04:46:25 -0700

snapwebsites (1.5.70.0~xenial) xenial; urgency=high

  * Fixed the popping of the GIF animation in the snapmanager HTML interface.

 -- Alexis Wilke <alexis@m2osw.com>  Wed,  4 Jul 2018 00:00:45 -0700

snapwebsites (1.5.69.0~xenial) xenial; urgency=high

  * Added bundle-sendmail.xml to install an SMTP tool (msmtp).
  * Install the bundle-snaplistd.xml bundle.
  * Changed the watchdog service field from an input string to a dropdown.

 -- Alexis Wilke <alexis@m2osw.com>  Tue,  3 Jul 2018 22:52:54 -0700

snapwebsites (1.5.68.0~xenial) xenial; urgency=high

  * Added a watchdog script to detect the old /etc/cron.daily/snapbackend file.
  * Adding a bundle to install msmtp and create a sendmail script.

 -- Alexis Wilke <alexis@m2osw.com>  Sun,  1 Jul 2018 23:12:24 -0700

snapwebsites (1.5.67.0~xenial) xenial; urgency=high

  * Moved the snapcommunicator neighbors.txt file to the lib folder instead
    of the cache (otherwise it gets deleted and we lose them for good!)
  * Added a get_data_path() function to clearly distinguish it from
    the get_list_data_path().
  * Added a help to the cass-stop script.

 -- Alexis Wilke <alexis@m2osw.com>  Sun,  1 Jul 2018 00:55:34 -0700

snapwebsites (1.5.66.0~xenial) xenial; urgency=high

  * Enhanced glob_dir to support std::string and char const *.
  * Made use of the raii_pointer_deleter to track the glob_t object.
  * Updated the manager.cpp and journal.cpp to the new version of glob_dir.
  * Documented glob_dir and journal_list.
  * Changed when the journal_list becomes "finished": which is now when
    the done() function is called (because once marked done we should
    never reuse that pointer!)

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 28 Jun 2018 18:51:42 -0700

snapwebsites (1.5.65.1~xenial) xenial; urgency=high

  * Fixed the use of the mkdir_p() function in file_content.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 28 Jun 2018 18:51:42 -0700

snapwebsites (1.5.65.0~xenial) xenial; urgency=high

  * Fixed the .../bundle-scripts/... path usage: it's part of the
    /var/cache/snapwebsites folder so it gets deleted once in a while,
    so (1) no need to create when installing and (2) need to create any
    time we need to use it (i.e. when we try run a script.)
  * Removed the mkdir from the snapmanagerdaemon post installation script.
  * Fixed the spelling (missing "s") in post removal script.
  * Added support to file_content() to auto-create path if required.
  * Updated the three places that access the bundle-scripts in C++ to auto-
    generate that folder if missing.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 28 Jun 2018 18:29:23 -0700

snapwebsites (1.5.64.0~xenial) xenial; urgency=high

  * Missed the /bin/ sub-folder.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 28 Jun 2018 03:11:39 -0700

snapwebsites (1.5.63.0~xenial) xenial; urgency=high

  * Restoring the path. It still did not make it in the output.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 28 Jun 2018 00:06:55 -0700

snapwebsites (1.5.62.0~xenial) xenial; urgency=high

  * Fixed the path to those files. They are in snapdb, not snapmanager.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 28 Jun 2018 00:06:55 -0700

snapwebsites (1.5.61.0~xenial) xenial; urgency=high

  * Fixed the debian/snapdb.install to get the two scripts installed.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 27 Jun 2018 23:47:20 -0700

snapwebsites (1.5.60.0~xenial) xenial; urgency=high

  * Added a snaplist.pref file to reduce the priority of our build packages.
  * Added some clean up to the snap_parser.h default variable values.
  * Trying to avoid the memory leak reports since we don't really need them.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 26 Jun 2018 18:21:27 -0700

snapwebsites (1.5.59.0~xenial) xenial; urgency=high

  * Fixed five invalid use of str.toUtf8().data(), which would end up
    using a temporary buffer after the corresponding object was deleted.
  * Enhanced error message in case execvpe() fails.
  * Fixed form line counting for "\r\n" (it was testing "\r\r" instead.)
  * Various clean ups.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 26 Jun 2018 18:21:27 -0700

snapwebsites (1.5.58.0~xenial) xenial; urgency=high

  * Fixed the process implementation, a couple of functions where eventually
    used with a nullptr. I added a couple of tests to avoid the problem.
  * Made the == and != to nullptr functions official for faster compile of
    the RAII code.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 26 Jun 2018 00:11:01 -0700

snapwebsites (1.5.57.0~xenial) xenial; urgency=high

  * Well, a non-pointer just can't be dereferenced, so I fixed that class
    with an operator T () instead of the operator * ().
  * Fixed the UDP implementation accordingly.
  * Added a catch for the SIGABRT signal in hope of getting a stack trace.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 25 Jun 2018 16:55:57 -0700

snapwebsites (1.5.56.0~xenial) xenial; urgency=high

  * Okay, found out that the compiler optimizations would create a problem
    so I reimplemented the RAII class for us to move forward.
  * Added a UDP test to verify that RAII implementation.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 23 Jun 2018 14:40:37 -0700

snapwebsites (1.5.55.2~xenial) xenial; urgency=high

  * Added a few more traces to see whether fd == 0 is the problem.
  * Added a -p to my ./mk tool to dput packages.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 23 Jun 2018 14:40:37 -0700

snapwebsites (1.5.55.1~xenial) xenial; urgency=high

  * Added a couple of traces in an attempt to understand why the system
    says the socket is not valid.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 23 Jun 2018 02:27:37 -0700

snapwebsites (1.5.55.0~xenial) xenial; urgency=high

  * Enhanced the error when the UDP binding fails.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 22 Jun 2018 23:55:31 -0700

snapwebsites (1.5.54.0~xenial) xenial; urgency=high

  * Removed the libsnapwebsites-qt-doc package. At this time it's not
    necessary and the data will be in the libsnapwebsites-doc anyway.
  * Place the headers under /usr/include/snapwebsites_qt for the Qt version.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 20 Jun 2018 00:17:58 -0700

snapwebsites (1.5.53.0~xenial) xenial; urgency=high

  * Broke up the snap_communicator_qt implementation to avoid X11 in the main
    library (and all the tools under snapwebsites).

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 19 Jun 2018 22:45:04 -0700

snapwebsites (1.5.52.1~xenial) xenial; urgency=high

  * Kick a rebuild as launchpad did not properly detect the need.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 19 Jun 2018 15:00:41 -0700

snapwebsites (1.5.52.0~xenial) xenial; urgency=high

  * Added support for 'family' in the UDP server.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 18 Jun 2018 22:36:25 -0700

snapwebsites (1.5.51.0~xenial) xenial; urgency=high

  * Fixed the MTU size gathering by getting the interface name corresponding
    to the address used with that UDP port.

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  9 Jun 2018 22:39:54 -0700

snapwebsites (1.5.50.0~xenial) xenial; urgency=high

  * Applied changes to support the new addr::iface class from libaddr.

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  9 Jun 2018 01:19:34 -0700

snapwebsites (1.5.49.0~xenial) xenial; urgency=high

  * Added a matrix.h header and corresponding tests.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 12 Apr 2018 04:07:41 -0700

snapwebsites (1.5.48.0~xenial) xenial; urgency=high

  * Fixed the snap_qt_connection constructor, a test was inverted.
  * Fixed the f_fd declaration, it now gets set to -1 as expected.
  * Fixed the header so the QMap gets protected against -Wctor-dtor-privacy.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 20 Mar 2018 01:23:32 -0700

snapwebsites (1.5.47.0~xenial) xenial; urgency=high

  * Fix the snap_config so it uses exceptions instead of exit(1). That way
    we avoid problems with mutexes (i.e. they properly get unlocked.)
  * Various cleanups.

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  3 Mar 2018 02:51:15 -0700

snapwebsites (1.5.46.0~xenial) xenial; urgency=high

  * Added the snap_qt_connection so we can use both, snap_communicator and
    Qt in the same binary.
  * Added qt5x11extras so we can retrieve the X11 file descriptor.

 -- Alexis Wilke <alexis@m2osw.com>  Sat,  3 Mar 2018 02:51:15 -0700

snapwebsites (1.5.45.0~xenial) xenial; urgency=high

  * Finished up the snapwatchdog plugin that runs shell script to test the
    health of the system.
  * Added support so we can capture stderr output from processes we start
    with our snap::process class.
  * Support two callbacks one for stdout and one for stderr.
  * Added a test in get_arg() so we throw if you never called get_args_size().
  * Fixed a bug in the fork() implementation, we had to use dup2() and not
    close() + dup() because race conditions can always happen.
  * Actually implemented the find_process tool used in the
    watch_firewall_fail2ban_client script.
  * Added a starter script so snapwatchdog scripts get kick started now
    giving us the /etc/default/snapwatchdog script for user settings.
  * Fixed the snapwatchdog server, we would add child process to the
    list of processes even if the fork() failed.
  * Applied a fix to the statvfs() call which can block if a device is
    over the network and is failing. It uses an alarm now.
  * Added a more detailed header so we know which computer is failing.
  * Various cleanups.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 11 Feb 2018 01:21:33 -0700

snapwebsites (1.5.44.0~xenial) xenial; urgency=high

  * Fixed the name of the script-files
  * Create the snapwatchdog-output sub-directory for the logs.
  * Fixed the paths to save the scripts output.
  * Added a the sub-directory to the logrotate of snapwatchdog.
  * Made the data path in the script a variable (WATCHDOG_WATCHSCRIPTS_OUTPUT).
  * Added the new watchscripts plugin to the list snapwatchdog plugins to run.
  * Added the log_subfolder, from_email, administrator_email variables.
  * Fixed the loop calling our scripts (the folders were still mixed up.)
  * Use sh to start our scripts since they won't be "755".
  * Fixed a bug in defining the `scripts_path`, the wrong variable was used.
  * Made sending the email dependent on the from/to emails availability.

 -- Alexis Wilke <alexis@m2osw.com>  Fri,  9 Feb 2018 01:09:45 -0700

snapwebsites (1.5.43.0~xenial) xenial; urgency=high

  * Extracted the email class from the sendmail plugin to the library.
  * Fixed the email serialization.
  * Implemented a unit test and functional test of the email class.
  * Added a new directory (mb) for functional tests that change the environment.
  * Updated plugins to use the new email class environment.
  * Added a flag to decide whether to output the brand info.
  * Added a note before the attachments.
  * Added support for snapwatchdog scripts to check for things like the
    fail2ban-client getting stuck once in a while and using 100% CPU time.
  * Fixed a ISP-8859-1 versus UTF-8 bug in glob_dir.cpp.
  * Fixed URL to snapwebsites, it uses https now.
  * Enhanced the snap_exception* implementation.
  * Various cleanups.

 -- Alexis Wilke <alexis@m2osw.com>  Thu,  8 Feb 2018 01:31:45 -0700

snapwebsites (1.5.42.0~xenial) xenial; urgency=high

  * Fixed limit to 200Mb instead of 200Tb.
  * Generally enhanced the README.md files.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 29 Jan 2018 00:12:40 -0700

snapwebsites (1.5.41.0~xenial) xenial; urgency=high

  * Added limits so fast_buffer won't allocate a buffer any larger than 200Mb.
  * Properly initialize the f_ncurses_stdout/stderr
  * Initialize the f_last_loadavg properly.
  * try/catch various exceptions in destructors.
  * Moved the logger initialization of snapmessage inside the try/catch.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 28 Jan 2018 03:45:41 -0700

snapwebsites (1.5.40.1~xenial) xenial; urgency=high

  * Fixed one file about a copyright.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 27 Jan 2018 19:55:33 -0700

snapwebsites (1.5.40.0~xenial) xenial; urgency=high

  * Fixed the process_quit() to properly kill the f_connection in snapmessage.
  * Added some color, it's not perfect but will help me.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 26 Jan 2018 01:34:22 -0700

snapwebsites (1.5.39.0~xenial) xenial; urgency=high

  * Enhanced the console in various ways.
  * Fixed closing the console, it now calls endwin() in the right place.
  * Fixed some old comments in snap_communicator so they match current status.
  * Moved the restore_fd() calls to the close_ncurse() because it has to be
    done at the right location (i.e. after the delscreen().)
  * Applied a fix to the console so the pointer appears at the correct
    location after output() was called.
  * Use a weak pointer in one location that would lock up the snap_console.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 22 Jan 2018 02:25:10 -0700

snapwebsites (1.5.38.0~xenial) xenial; urgency=high

  * Enhanced some error messages for invalid calls to get_parameters() so
    we know which command and parameter generated the error.
  * Added a close() function on the snap_fd_connection.
  * Added a mark_close() function so we can let snap_fd_connection know.
  * Also check get_socket() in is_writer()/is_reader() if closed that's not
    a writer or a reader.
  * Added a set of read/write function to the snap_fd_connection.
  * Added the Snap FD Buffer Connection which reads lines of data coming in
    the fd and sends them through the process_line() callback.
  * Enhanced the console implementation to redirect the stdout and stderr
    to the output area instead of anywhere on the screen.
  * Added a process_help() callback so when F1 is pressed, it gets called.
  * Added an implementation of process_quit() to restore the FD as required
    (i.e. stdout and stderr).
  * Started on a message dialog to help create messages.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 22 Jan 2018 02:25:10 -0700

snapwebsites (1.5.37.0~xenial) xenial; urgency=high

  * Added libncurse and libreadline as Source dependencies.
  * Moved the snapcommunicator dispatcher in its own file so it can use the
    logger (they currently inter include each others...)
  * process_message() is now defined in a separate class so we can have a
    default that throws if called. Useful if your dispatcher has a last entry
    which is a catch-all.
  * Added an always_match() function for the dispatcher catch-all entry.
  * Added a "reply with UNKNOWN" function.
  * Made all the send_message() functions return true or false.
  * Added logging in the snapmessage tool since we don't always get all the
    messages on screen (especially on a crash/quit situation.)
  * Various clean ups.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 18 Jan 2018 22:27:39 -0700

snapwebsites (1.5.36.0~xenial) xenial; urgency=high

  * Added the snap_console objects and the snapmessage tool.
  * Added libncurses and libreadline as dependencies.
  * Added a snap_fd_connection to snap_communicator.
  * Removed an unused flag in snap_communicator.
  * From my first commit, I redesigned snapmessage to use snap_console.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 17 Jan 2018 00:29:11 -0700

snapwebsites (1.5.35.0~xenial) xenial; urgency=high

  * Added the libreadline-dev as a build dependency.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 15 Jan 2018 04:13:01 -0700

snapwebsites (1.5.34.0~xenial) xenial; urgency=high

  * Added Doug's script to stop Cassandra. It's working way better than just
    rebooting without first running that script.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 13 Jan 2018 22:48:01 -0700

snapwebsites (1.5.33.0~xenial) xenial; urgency=high

  * Added the snapmessage command line tool to test messaging between
    services from the command line (could use scripts, probably).
  * Allow for add_connection() to be called with a null pointer.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 13 Jan 2018 22:48:01 -0700

snapwebsites (1.5.32.0~xenial) xenial; urgency=high

  * Moved the backend-status.txt file to /var/lib/... instead of the cache.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 13 Jan 2018 22:48:01 -0700

snapwebsites (1.5.31.0~xenial) xenial; urgency=high

  * Added the dispatcher template and sub-class.
  * Removed the process_message() from the 
    `snap_tcp_blocking_client_message_connection` class, it's not required
    since we have on in the `snap_tcp_client_message_connection`

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 11 Jan 2018 08:58:17 -0700

snapwebsites (1.5.30.0~xenial) xenial; urgency=high

  * Fixed the path to the snapwebsites.org, it's HTTPS now.
  * Enhanced the --save-cell description in snapdb.
  * Use the pointer_t for advgetopt in snapdb.h instead of redefining it.
  * Added a parameter to the form error log for easier debugging.
  * Removed the WARNING of the server manager about typing the wrong name
    since Doug added a drop down and thus you can't make such a mistake.
  * Fixed a few #include for advgetopt which should always have used the path.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 07 Dec 2017 01:43:17 -0700

snapwebsites (1.5.29.1~xenial) xenial; urgency=high

  * Fixed the e-store settings, only the store_name field would get saved.
  * In the Stripe implementation, if store_name is not defined, cleanly
    generate an error (we may want to do that much earlier, though.)

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 07 Dec 2017 01:43:17 -0700

snapwebsites (1.5.28.1~xenial) xenial; urgency=high

  * Fixed bug in libdbproxy, a contexts() call was not changed to getContexts()
  * Fixed the bug with consistency levels: the disconnect() resets it back to
    ONE and so if we want to use QUORUM it has to be set after. Note that
    QUORUM is currently forced because I missed that bug before! It is also
    safer with QUORUM always...
  * Applied various clean ups to the libdbproxy.
  * Updated the INSTALL file, although it should really be fixed 100%...
  * Fixed my start script since snapmanagerdaemon is now in .../snapmanager/.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 19 Nov 2017 16:31:56 -0700

snapwebsites (1.5.27.0~xenial) xenial; urgency=high

  * Fixed PPA build. Packaging was still installing the old libQtCassandra.

 -- Doug Barbieri <doug@dooglio.net>  Wed, 25 Oct 2017 17:01:11 -0700

snapwebsites (1.5.26.0~xenial) xenial; urgency=high

  * Fixed test websites: the canonical is not enough, we need to prevent
    search engines from indexing such sites by telling them NOINDEX.
  * Fixed reference to snapwebsites.org with HTTPS.
  * Fixed the tag name: X-Robots-Tag -- we were missing "-Tag".

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 13 Sep 2017 15:28:14 -0700

snapwebsites (1.5.25.0~xenial) xenial; urgency=high

  * SNAP-289: Fixed the list.cpp file handling, I put the file descriptor in
    a shared_ptr<>() object with a deletor that will always take care of that.
  * SNAP-289: Fixed the disabled_mode variable handling in backend.cpp.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 23 Aug 2017 20:45:30 -0700

snapwebsites (1.5.24.0~xenial) xenial; urgency=high

  * EX-194: Fixed the call to snapstop with the --service command line option.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 15 Aug 2017 19:19:33 -0700

snapwebsites (1.5.23.1~xenial) xenial; urgency=high

  * Removed the warning notice on backends since we now have a dropdown we
    cannot misspell the word.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 15 Aug 2017 13:48:40 -0700

snapwebsites (1.5.23.0~xenial) xenial; urgency=high

  * EX-191: Breadcrumb label may include HTML tags.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 14 Aug 2017 21:57:11 -0700

snapwebsites (1.5.22.0~xenial) xenial; urgency=high

  * SNAP-591: Existing links may need to be deleted before we create new ones.
  * Added a couple of tests to verify that this is done properly for unique
    links (we want to check the same with multiple links too at some point).

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 14 Aug 2017 21:57:06 -0700

snapwebsites (1.5.21.0~xenial) xenial; urgency=high

  * Noticed a warning from the filter and applied a fix (i.e. do not filter
    attributes of <xsl:...> tags because they include '[...]' specific to XSLT.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 13 Aug 2017 20:26:53 -0700

snapwebsites (1.5.20.0~xenial) xenial; urgency=high

  * EX-193: Added Reply-To header support.

 -- Doug Barbieri <doug@garibaldi>  Thu, 10 Aug 2017 09:04:52 -0700

snapwebsites (1.5.18.0~xenial) xenial; urgency=high

  * Fixed the help of the "snapclearcache".

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 03 Aug 2017 20:31:45 -0700

snapwebsites (1.5.17.0~xenial) xenial; urgency=high

  * Made the clear-cache.sh script a command line utility: "snapclearcache".

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 02 Aug 2017 14:22:40 -0700

snapwebsites (1.5.16.0~xenial) xenial; urgency=high

  * The fix to the root user permissions actually exposed another bug: the
    updating of the cache could end up using an empty version of the list
    of permissions when we shortcut the calculation of the permissions to
    know whether the user is allowed (i.e. the default list is the empty
    list and we would save that even if we did not call the function used
    to generate the list of permissions of a page.)

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 02 Aug 2017 13:54:07 -0700

snapwebsites (1.5.15.0~xenial) xenial; urgency=high

  * Fixed the root user permissions so the root can really access ALL pages
    as it was first intended.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 01 Aug 2017 20:31:10 -0700

snapwebsites (1.5.14.0~xenial) xenial; urgency=high

  * Added new API to content::path_info_t such that access to the database
    can be hidden and encapsulated.

 -- R. Douglas Barbieri <doug@dooglio.net>  Mon, 31 Jul 2017 22:20:27 -0700

snapwebsites (1.5.13.0~xenial) xenial; urgency=high

  * Added default for the snapbackup variables in case the default script
    does not (yet) include those values.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 27 Jul 2017 17:01:34 -0700

snapwebsites (1.5.12.0~xenial) xenial; urgency=high

  * Added INFO suffix in log for when snap_child finishes.
  * Also fixed snapbackend with regard to the manager plugin.

 -- R. Douglas Barbieri <doug@dooglio.net>  Wed, 26 Jul 2017 17:52:50 -0700

snapwebsites (1.5.11.0~xenial) xenial; urgency=high

  * Fixed the snapbackup CRON script, the date requires a backslash.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 24 Jul 2017 19:58:15 -0700

snapwebsites (1.5.10.1~xenial) xenial; urgency=high

  * Added "Save Everywhere" for ssh public keys (in ssh plugin).

 -- Doug Barbieri <doug@garibaldi>  Fri, 21 Jul 2017 14:01:46 -0700

snapwebsites (1.5.9.0~xenial) xenial; urgency=high

  * EX-79: Found out that if a page supports more than one image, then we must
    have a field name and not use "image" as that name. We may have a problem
    with the body which does not offer a separate field name for each image...

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 08 Jul 2017 17:14:51 -0700

snapwebsites (1.5.8.0~xenial) xenial; urgency=high

  * Fixed an error in snapfirewall where the manager plugin was not being
    installed, and where the fail2ban action file was being put into the wrong
    directory.
  * Updated some manager-plugins to use the new `widget_select` for drop
    downs.

 -- R. Douglas Barbieri <doug@dooglio.net>  Fri, 07 Jul 2017 11:38:24 -0700

snapwebsites (1.5.7.0~xenial) xenial; urgency=high

  * snapmanager: changed dbproxy and ssh to use switches.

 -- R. Douglas Barbieri <doug@dooglio.net>  Thu, 06 Jul 2017 14:23:18 -0700

snapwebsites (1.5.6.0~xenial) xenial; urgency=high

  * SNAP-222: Checking whether a file was properly added required to test
    with the correct path and not whether a file is attached to the field
    (because on Save we get a string, not the file which was already sent
    to use using AJAX.)

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 29 Jun 2017 11:49:42 -0700

snapwebsites (1.5.5.0~xenial) xenial; urgency=high

  * SNAP-574: Fixed the snapcgi.install so we get the HTML for maintenance and
    first install under /usr/share/snapwebsites/html.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 29 Jun 2017 11:49:42 -0700

snapwebsites (1.5.4.0~xenial) xenial; urgency=high

  * SNAP-584: Send all output to $BACKUP_LOG now.
  * Fixed the path, we were still using a hard coded path in two places.
  * Prevent the backup process if the mkdir fails.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 28 Jun 2017 14:36:42 -0700

snapwebsites (1.5.3.0~xenial) xenial; urgency=high

  * SNAP-584: Moved the rotation of /var/mail/root to snapbase.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 28 Jun 2017 11:56:59 -0700

snapwebsites (1.5.2.0~xenial) xenial; urgency=high

  * SNAP-579: Split snaplistd/snaplog into a new bundle: mysql. These bundles
    both rely on the mysql bundle to be installed. And both bundles will
    manage their respective users and tables, removing them when purged.

 -- R. Douglas Barbieri <doug@dooglio.net>  Wed, 28 Jun 2017 11:26:49 -0700

snapwebsites (1.5.1.5~xenial) xenial; urgency=high

  * SNAP-574: Removed all debian subfolders but kept all of the changelogs.
  * Added "NUM_DAYS" to `/etc/default/snaplog` so the admin may tune the
    threshold for vacuuming.

 -- R. Douglas Barbieri <doug@dooglio.net>  Tue, 27 Jun 2017 14:26:51 -0700

snapwebsites (1.5.1.1~xenial) xenial; urgency=high

  * SNAP-547: Fixed issue with install spec for `libsnapwebsites-dev`. It no longer
    installs the plugin headers.
  * SNAP-547: Removed qtcassandra call in from cmake.

 -- R. Douglas Barbieri <doug@dooglio.net>  Mon, 26 Jun 2017 11:45:42 -0700

snapwebsites (1.5.0.3) xenial; urgency=high

  * SNAP-547: Initial release of packaging for the snapwebsites project, which brings in
    all packaging into one debian source package.
  * Bumping up to 1.5 so that way the older packing is sure to upgrade to
    this version.

 -- R. Douglas Barbieri <doug@dooglio.net>  Wed, 19 Jun 2017 09:18:44 -0800
